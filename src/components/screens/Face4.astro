<div class="parallax-scene" id="scene">
  <img src="/assets/window.png" alt="Background" class="layer layer-bg" />
  <img src="/assets/shelf.png" alt="Shop wall" class="layer layer-wall" />
  <img src="/assets/avatar.png" alt="Neon behind counter" class="layer layer-avatar" />
  <img src="/assets/speech-bubble.png" alt="Speech bubble" class="layer layer-bubble" />
  <img src="/assets/counter.png" alt="Counter" class="layer layer-counter" />
</div>

<style>
  .parallax-scene {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    perspective: 1000px;
  }

  .layer {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: auto;
    transition: transform 0.1s ease-out;
    pointer-events: none;
  }

  .layer-bg       { z-index: 1; transform: translateZ(-5px); }
  .layer-wall     { z-index: 2; transform: translateZ(-4px); }
  .layer-avatar   { z-index: 3; transform: translateZ(-2px); }
  .layer-bubble   { z-index: 4; transform: translateZ(-1px); }
  .layer-counter  { z-index: 5; transform: translateZ(0); }
</style>

<script is:inline>
  const scene = document.getElementById('scene')
  const layers = scene.querySelectorAll('.layer')

  document.addEventListener('mousemove', (e) => {
    const { clientX, clientY } = e
    const { innerWidth, innerHeight } = window

    const x = (clientX / innerWidth - 0.5) * 2
    const y = (clientY / innerHeight - 0.5) * 2

    layers.forEach((layer, index) => {
      const depth = index * 10
      const movementX = x * depth
      const movementY = y * depth

      layer.style.transform = `translate(${movementX}px, ${movementY}px)`
    })
  })
</script>
